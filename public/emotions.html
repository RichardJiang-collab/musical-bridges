<!DOCTYPE html>
<html data-wf-page="6697098529d25b6c6924e87e" data-wf-site="6697098429d25b6c6924e7f3" data-wf-status="1" lang="en">
<head>
  <meta charset="utf-8" />
  <title>Emotion Deep Dive</title>
  <meta content="Emotion Deep Dive" property="og:title" />
  <meta content="Emotion Deep Dive" property="twitter:title" />
  <meta content="width=device-width, initial-scale=1" name="viewport" />
  <meta content="Webflow" name="generator" />
  <link href="/static/css/webflow-style.css" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com" rel="preconnect" />
  <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="anonymous" />
  <script src="https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js" type="text/javascript"></script>
  <script
    type="text/javascript">WebFont.load({ google: { families: ["Libre Franklin:200,300,regular,600,800,900", "IBM Plex Mono:regular"] } });</script>
  <script
    type="text/javascript">!function (o, c) { var n = c.documentElement, t = " w-mod-"; n.className += t + "js", ("ontouchstart" in o || o.DocumentTouch && c instanceof DocumentTouch) && (n.className += t + "touch") }(window, document);</script>
  <link href="/static/images/favicon.png" rel="shortcut icon" type="image/x-icon" />
  <link href="/static/images/app-icon.png" rel="apple-touch-icon" />
  <style>
    body {
      -moz-font-feature-settings: "liga" on;
      -moz-osx-font-smoothing: grayscale;
      -webkit-font-smoothing: antialiased;
      font-feature-settings: "liga" on;
      text-rendering: optimizeLegibility;
    }
    .interactive-section {
      margin: 20px 0;
    }
    .dropdown-label, .input-label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    .emotion-dropdown, .user-input {
      width: 100%;
      padding: 10px;
      margin-bottom: 15px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    .submit-button {
      padding: 10px 20px;
      background-color: #48944f;
      color: white;
      border: none;
      border-radius: 25px;
      transition: background-color 0.3s ease, transform 0.3s ease;
      cursor: pointer;
    }
    .submit-button:hover {
      background-color: #000000;
      transform: translate(0px, -3px);
      box-shadow: 1px 2px 3px #0003;
    }
  </style>
</head>
<body>
  <!-- Navigation Bar -->
  <div data-collapse="medium" data-animation="default" data-duration="400" data-easing="ease-out"
    data-easing2="ease-out" role="banner" class="navigation w-nav">
    <div class="navigation-container">
      <nav role="navigation" class="nav-menu w-nav-menu"><a href="#" class="nav-link w-nav-link">About</a><a
          href="/emotions" aria-current="page" class="nav-link w-nav-link w--current">Emotions</a><a href="#"
          class="nav-link w-nav-link">Contact</a></nav>
      <div class="menu-button w-nav-button">
        <div class="icon-2 w-icon-nav-menu"></div>
      </div><a href="/" class="navigation-logo w-inline-block"><img src="/static/images/unknown.svg" width="265" alt="" /></a>
    </div><a href="/user-profile" class="w-inline-block"><img src="/static/images/account-circle.png" loading="lazy" width="50"
      alt="" /></a>
  </div>

  <!-- Main Section -->
  <div class="header-inner">
    <div class="container">
      <div class="header-inner-content">
        <h1 class="h1 emotion-heading"><strong>Emotion Deep Dive</strong></h1>
        <p class="paragraph">Find Your Music Based on Emotion</p>
      </div>
    </div>
  </div>

  <!-- Main Section -->
  <div class="emotions">
    <div class="interactive-section">
      <!-- Dropdown -->
      <label for="mainEmotion" class="dropdown-label">Choose a main Emotion:</label>
      <select id="mainEmotion" class="emotion-dropdown">
        <option value="sadness">Sadness</option>
        <option value="happiness">Happiness</option>
        <option value="fear">Fear</option>
        <option value="anger">Anger</option>
        <option value="surprise">Surprise</option>
        <option value="disgust">Disgust</option>
      </select>
      
      <!-- User Input -->
      <label for="emotionDetail" class="input-label">Describe your current feeling (optional):</label>
      <input type="emotionDetail" id="emotionalDetail" class="user-input" placeholder="Enter details here...">
      
      <!-- Submit Button -->
      <button id="submitBtn" class="submit-button">Submit</button>

      <!-- Area to display the final emotion and recommendation -->
      <div id="result" style="margin-top: 30px;"></div>
    </div>
  </div>

  <!-- Seperator -->
  <div class="separator">
    <div class="container">
      <div class="line-color"></div>
    </div>
  </div>

  <!-- Footer -->
  <div class="footer">
    <div class="container cc-footer">
      <div class="footer-column cc-footer"><a href="/" class="navigation-logo w-inline-block"><img
            src="/static/images/unknown.svg" width="341" alt="" /></a>
        <div class="text-footer-credits">Â© 2025 Musical Bridges, All rights reserved.</div>
      </div>
      <div class="footer-column">
        <div class="footer-social"><a href="#" class="link-social w-inline-block"><img src="/static/images/icon-facebook.svg"
              alt="" /></a><a href="#" class="link-social w-inline-block"><img src="/static/images/icon-twitter.svg"
              alt="" /></a><a href="#" class="link-social w-inline-block"><img src="/static/images/icon-instagram.svg"
              alt="" /></a></div>
        <div class="footer-links-list"><a href="/about" class="link-footer">About</a><a href="/blog"
            class="link-footer">Emotions</a><a href="/recommendations" class="link-footer">Contact</a></div>
      </div>
    </div>
  </div>

  <!-- JavaScripts -->
  <script src="/js/jquery.js" type="text/javascript"></script>
  <script src="/js/webflow-script.js" type="text/javascript"></script>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      document.getElementById("submitBtn").addEventListener("click", async () => {
        const mainEmotion = document.getElementById("mainEmotion").value;
        const emotionDetailElement = document.getElementById("emotionDetail");
        const emotionDetail = emotionDetailElement ? emotionDetailElement.value.trim() : "";
        const payload = { mainEmotion };
        if (emotionDetail.length > 0) {
          payload.emotionDetail = emotionDetail;
        }
    
        try {
          const response = await fetch("/api/refineEmotion", {
            method: "POST",
            headers: { "Content-Type": "application/json", "X-myName": "Richard Jiang" },
            body: JSON.stringify(payload)
          });
          const data = await response.json();
          document.getElementById("result").innerHTML = `
            <h2>Final Emotion: ${data.emotion}</h2>
            <p>Now recommending music based on this emotion...</p>
          `;
        } catch (err) {
          console.error("Error fetching recommendation:", err);
          document.getElementById("result").innerHTML = `<p>Error: ${err.message}</p>`;
        }
      });
    });
  </script>

</body>
</html>